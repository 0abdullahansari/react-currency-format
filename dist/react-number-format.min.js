/*!
 * react-number-format - 0.1.2
 * Author : Sudhanshu Yadav
 * Copyright (c) 2016 to Sudhanshu Yadav - ignitersworld.com , released under the MIT license.
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.NumberFormat=e(require("react")):t.NumberFormat=e(t.React)}(this,function(t){return function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){t.exports=r(1)},function(t,e,r){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a=r(2),o=a.createClass({displayName:"NumberFormat",getInitialState:function(){return{value:this.formatInput(this.props.value).formattedValue}},getDefaultProps:function(){return{displayType:"input"}},componentWillReceiveProps:function(t){this.setState({value:this.formatInput(t.value).formattedValue})},shouldComponentUpdate:function(t){return!(t!==this.props&&t.value===this.props.value)},setCaretPosition:function(t){var e=this.refs.input;if(e.value=e.value,null!==e){if(e.createTextRange){var r=e.createTextRange();return r.move("character",t),r.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}},formatWithPattern:function(t){var e=this.props,r=e.format,n=e.mask;if(!r)return t;for(var a=r.split("#").length-1,o=0,i=r,s=0,u=t.length;s<u;s++)s<a&&(o=i.indexOf("#"),i=i.replace("#",t[s]));var f=i.lastIndexOf("#");return n?i.replace(/#/g,n):i.substring(0,o+1)+(f!==-1?i.substring(f+1,i.length):"")},formatInput:function(t){var e=this.props,r=e.prefix,n=e.thousandSeparator,a=e.suffix,o=(e.mask,e.format);if(!t||!(t+"").match(/\d/g))return{value:"",formattedValue:""};var i=(t+"").match(/\d/g).join(""),s=i;return o?"string"==typeof o?s=this.formatWithPattern(s):"function"==typeof o&&(s=o(s)):(n&&(s=s.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")),r&&(s=r+s),a&&(s+=a)),{value:s.match(/\d/g).join(""),formattedValue:s}},getCursorPosition:function(t,e,r){for(var n=0,a=0;a<r;a++)if(t[a].match(/\d/)||t[a]===e[n]){for(;t[a]!==e[n]&&n<e.length;)n++;n++}for(;n>0&&e[n]&&!e[n-1].match(/\d/);)n--;return n},onChangeHandler:function(t,e){var r=this,n=t.target.value,a=this.formatInput(n),o=a.formattedValue,i=a.value,s=this.refs.input.selectionStart;return this.setState({value:o},function(){s=r.getCursorPosition(n,o,s),r.setCaretPosition(s),e&&e(t,i)}),i},onChange:function(t){this.onChangeHandler(t,this.props.onChange)},onInput:function(t){this.onChangeHandler(t,this.props.onInput)},render:function(){var t=n({},this.props);return["thousandSeparator","displayType","prefix","suffix","format","mask","value"].forEach(function(e){delete t[e]}),"text"===this.props.displayType?a.createElement("span",t,this.state.value):a.createElement("input",n({},t,{type:"tel",value:this.state.value,ref:"input",onInput:this.onChange,onChange:this.onChange}))}});t.exports=o},function(e,r){e.exports=t}])});